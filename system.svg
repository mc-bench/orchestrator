<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 900">
    <!-- Gradients -->
    <defs>
        <linearGradient id="clientGrad" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:#f0f9ff;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#e0f2fe;stop-opacity:1" />
        </linearGradient>
        <linearGradient id="serviceGrad" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:#faf5ff;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#f3e8ff;stop-opacity:1" />
        </linearGradient>
        <linearGradient id="serverGrad" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:#eff6ff;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#dbeafe;stop-opacity:1" />
        </linearGradient>
        <linearGradient id="execGrad" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:#f0fdfa;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#ccfbf1;stop-opacity:1" />
        </linearGradient>
        <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.2"/>
        </filter>
        <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5"
                markerWidth="6" markerHeight="6" orient="auto">
            <path d="M 0 0 L 10 5 L 0 10 z" fill="#94a3b8"/>
        </marker>
    </defs>

    <!-- Background layers with modern styling -->
    <!-- Client Layer -->
    <rect x="50" y="50" width="900" height="120" rx="20" fill="url(#clientGrad)" stroke="#bae6fd" stroke-width="2"/>
    <text x="70" y="85" font-family="Arial" font-size="16" font-weight="bold" fill="#0369a1">Client Layer</text>

    <!-- Build Service Layer -->
    <rect x="50" y="200" width="900" height="200" rx="20" fill="url(#serviceGrad)" stroke="#e9d5ff" stroke-width="2"/>
    <text x="70" y="235" font-family="Arial" font-size="16" font-weight="bold" fill="#7c3aed">Build Service Layer</text>

    <!-- Server Management Layer -->
    <rect x="50" y="430" width="900" height="180" rx="20" fill="url(#serverGrad)" stroke="#bfdbfe" stroke-width="2"/>
    <text x="70" y="465" font-family="Arial" font-size="16" font-weight="bold" fill="#2563eb">Server Management Layer</text>

    <!-- Build Execution Layer - Now showing multiple instances -->
    <g transform="translate(0, 640)">
        <!-- Base layer -->
        <rect x="50" y="0" width="900" height="200" rx="20" fill="url(#execGrad)" stroke="#99f6e4" stroke-width="2"/>
        <!-- Stacked layers to show scaling -->
        <rect x="60" y="10" width="880" height="200" rx="20" fill="url(#execGrad)" stroke="#99f6e4" stroke-width="2" opacity="0.6"/>
        <rect x="70" y="20" width="860" height="200" rx="20" fill="url(#execGrad)" stroke="#99f6e4" stroke-width="2" opacity="0.3"/>
        <text x="70" y="45" font-family="Arial" font-size="16" font-weight="bold" fill="#0d9488">Build Execution Layer (Scales to N)</text>
    </g>

    <!-- Components -->
    <!-- Client Components -->
    <rect x="150" y="90" width="160" height="60" rx="12" fill="#ffffff" stroke="#38bdf8" stroke-width="2" filter="url(#shadow)"/>
    <text x="230" y="125" font-family="Arial" font-size="14" text-anchor="middle" fill="#0284c7">Build Request</text>

    <rect x="400" y="90" width="160" height="60" rx="12" fill="#ffffff" stroke="#38bdf8" stroke-width="2" filter="url(#shadow)"/>
    <text x="480" y="125" font-family="Arial" font-size="14" text-anchor="middle" fill="#0284c7">Redis Queue</text>

    <!-- Build Service Component -->
    <rect x="275" y="270" width="450" height="80" rx="12" fill="#ffffff" stroke="#a855f7" stroke-width="2" filter="url(#shadow)"/>
    <text x="500" y="305" font-family="Arial" font-size="14" text-anchor="middle" fill="#7c3aed">Build Service</text>
    <text x="500" y="325" font-family="Arial" font-size="12" text-anchor="middle" fill="#6b7280">(build_service.py)</text>

    <!-- Server Management Components -->
    <rect x="150" y="490" width="200" height="80" rx="12" fill="#ffffff" stroke="#3b82f6" stroke-width="2" filter="url(#shadow)"/>
    <text x="250" y="525" font-family="Arial" font-size="14" text-anchor="middle" fill="#1d4ed8">Server Manager</text>
    <text x="250" y="545" font-family="Arial" font-size="12" text-anchor="middle" fill="#6b7280">(server_manager.py)</text>

    <!-- Multiple Docker Containers -->
    <g transform="translate(400, 490)">
        <!-- Container Stack -->
        <rect x="0" y="0" width="160" height="60" rx="8" fill="#ffffff" stroke="#3b82f6" stroke-width="2" filter="url(#shadow)"/>
        <rect x="10" y="10" width="160" height="60" rx="8" fill="#ffffff" stroke="#3b82f6" stroke-width="2" filter="url(#shadow)"/>
        <rect x="20" y="20" width="160" height="60" rx="8" fill="#ffffff" stroke="#3b82f6" stroke-width="2" filter="url(#shadow)"/>
        <text x="100" y="55" font-family="Arial" font-size="14" text-anchor="middle" fill="#1d4ed8">Docker Containers</text>
        <text x="100" y="73" font-family="Arial" font-size="12" text-anchor="middle" fill="#6b7280">(Minecraft Servers)</text>
    </g>

    <rect x="650" y="490" width="200" height="80" rx="12" fill="#ffffff" stroke="#3b82f6" stroke-width="2" filter="url(#shadow)"/>
    <text x="750" y="525" font-family="Arial" font-size="14" text-anchor="middle" fill="#1d4ed8">RCON Connections</text>
    <text x="750" y="545" font-family="Arial" font-size="12" text-anchor="middle" fill="#6b7280">(Server Control)</text>

    <!-- Build Execution Components - Single instance shown -->
    <g transform="translate(0, 670)">
        <rect x="150" y="20" width="200" height="60" rx="12" fill="#ffffff" stroke="#14b8a6" stroke-width="2" filter="url(#shadow)"/>
        <text x="250" y="55" font-family="Arial" font-size="14" text-anchor="middle" fill="#0d9488">Mineflayer Bot</text>
        <text x="250" y="73" font-family="Arial" font-size="12" text-anchor="middle" fill="#6b7280">(mineflayer.py)</text>

        <rect x="400" y="20" width="200" height="60" rx="12" fill="#ffffff" stroke="#14b8a6" stroke-width="2" filter="url(#shadow)"/>
        <text x="500" y="55" font-family="Arial" font-size="14" text-anchor="middle" fill="#0d9488">Command Queue</text>

        <rect x="650" y="20" width="200" height="60" rx="12" fill="#ffffff" stroke="#14b8a6" stroke-width="2" filter="url(#shadow)"/>
        <text x="750" y="55" font-family="Arial" font-size="14" text-anchor="middle" fill="#0d9488">Coordinate Tracker</text>
    </g>

    <!-- Arrows with improved styling -->
    <path d="M 310 120 L 400 120" fill="none" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrow)"/>
    <path d="M 480 150 L 480 270" fill="none" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrow)"/>
    <path d="M 500 350 L 250 490" fill="none" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrow)"/>
    <path d="M 350 530 L 400 530" fill="none" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrow)"/>
    <path d="M 600 530 L 650 530" fill="none" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrow)"/>
    <path d="M 500 570 L 250 690" fill="none" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrow)"/>
    <path d="M 350 720 L 400 720" fill="none" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrow)"/>
    <path d="M 600 720 L 650 720" fill="none" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrow)"/>

    <!-- Scale indicators -->
    <text x="530" y="500" font-family="Arial" font-size="12" fill="#6b7280">Scale to N</text>
</svg>